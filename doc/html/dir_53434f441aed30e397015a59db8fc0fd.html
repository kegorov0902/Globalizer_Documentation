<!DOCTYPE html>

<html lang="ru" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Globalizer: Содержание директории third_party/Problems/third_party/gtest/googletest &#8212; документация Globalizer 141025</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=27fed22d" />
    <script src="../_static/documentation_options.js?v=799f848e"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/translations.js?v=cd1d70c9"></script>
    <link rel="index" title="Алфавитный указатель" href="../genindex.html" />
    <link rel="search" title="Поиск" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="third-party-problems-third-party-gtest-googletest">
<h1>Содержание директории third_party/Problems/third_party/gtest/googletest<a class="headerlink" href="#third-party-problems-third-party-gtest-googletest" title="Ссылка на этот заголовок">¶</a></h1>
<div class="doxygen-content docutils container">
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Globalizer: Содержание директории third_party/Problems/third_party/gtest/googletest</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Globalizer<span id="projectnumber">&#160;1.1</span>
   </div>
   <div id="projectbrief">Exascale Minimizer - параллельная программная система для решения задач глобальной оптимизации</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Создано системой Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Поиск',false);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Загрузка...</div>
<div class="SRStatus" id="Searching">Поиск...</div>
<div class="SRStatus" id="NoMatches">Не найдено</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a href="dir_44f42edf5dd23d4deca0321224e9ce90.html">third_party</a></li><li class="navelem"><a href="dir_bb2b3bf8f787c519d37e57fdcc46a727.html">Problems</a></li><li class="navelem"><a href="dir_ce7bd4a009310aca9bead0391b83a0d0.html">third_party</a></li><li class="navelem"><a href="dir_16584e57f593b61fdba03d71acd78ccb.html">gtest</a></li><li class="navelem"><a href="dir_53434f441aed30e397015a59db8fc0fd.html">googletest</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="headertitle"><div class="title">Содержание директории googletest</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-subdirs" class="groupheader"><a id="subdirs" name="subdirs"></a>
Директории</h2></td></tr>
<tr class="memitem:docs" id="r_docs"><td class="memItemLeft" align="right" valign="top"><span class="iconfolder"><div class="folder-icon"></div></span>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_e92b57d036b22869875dad246c3f6cc2.html">docs</a></td></tr>
<tr class="memitem:samples" id="r_samples"><td class="memItemLeft" align="right" valign="top"><span class="iconfolder"><div class="folder-icon"></div></span>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_fcf42a04115dff14a9d3525d8db16cc2.html">samples</a></td></tr>
<tr class="memitem:src" id="r_src"><td class="memItemLeft" align="right" valign="top"><span class="iconfolder"><div class="folder-icon"></div></span>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_08bcec3a09becb7cee63af90a561699e.html">src</a></td></tr>
<tr class="memitem:test" id="r_test"><td class="memItemLeft" align="right" valign="top"><span class="iconfolder"><div class="folder-icon"></div></span>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_d641ff6a3d7dabb2c8344f3644e059f5.html">test</a></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Подробное описание</h2>
<h1 class="doxsection"><a class="anchor" id="autotoc_md826"></a>
Generic Build Instructions</h1>
<h3 class="doxsection"><a class="anchor" id="autotoc_md827"></a>
Setup</h3>
<p>To build GoogleTest and your tests that use it, you need to tell your build system where to find its headers and source files. The exact way to do it depends on which build system you use, and is usually straightforward.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md828"></a>
Build with CMake</h2>
<p>GoogleTest comes with a CMake build script (<a href="https://github.com/google/googletest/blob/main/CMakeLists.txt">CMakeLists.txt</a>) that can be used on a wide range of platforms ("C" stands for cross-platform.). If you don't have CMake installed already, you can download it for free from <a href="https://cmake.org/">https://cmake.org/</a>.</p>
<p>CMake works by generating native makefiles or build projects that can be used in the compiler environment of your choice. You can either build GoogleTest as a standalone project or it can be incorporated into an existing CMake build for another project.</p>
<h3 class="doxsection"><a class="anchor" id="autotoc_md829"></a>
Standalone CMake Project</h3>
<p>When building GoogleTest as a standalone project, the typical workflow starts with</p>
<div class="fragment"><div class="line">git clone https://github.com/google/googletest.git -b v1.17.0</div>
<div class="line">cd googletest        # Main directory of the cloned repository.</div>
<div class="line">mkdir build          # Create a directory to hold the build output.</div>
<div class="line">cd build</div>
<div class="line">cmake ..             # Generate native build scripts for GoogleTest.</div>
</div><!-- fragment --><p>The above command also includes GoogleMock by default. And so, if you want to build only GoogleTest, you should replace the last command with</p>
<div class="fragment"><div class="line">cmake .. -DBUILD_GMOCK=OFF</div>
</div><!-- fragment --><p>If you are on a *nix system, you should now see a Makefile in the current directory. Just type <span class="tt">make</span> to build GoogleTest. And then you can simply install GoogleTest if you are a system administrator.</p>
<div class="fragment"><div class="line">make</div>
<div class="line">sudo make install    # Install in /usr/local/ by default</div>
</div><!-- fragment --><p>If you use Windows and have Visual Studio installed, a <span class="tt">gtest.sln</span> file and several <span class="tt">.vcproj</span> files will be created. You can then build them using Visual Studio.</p>
<p>On Mac OS X with Xcode installed, a <span class="tt">.xcodeproj</span> file will be generated.</p>
<h3 class="doxsection"><a class="anchor" id="autotoc_md830"></a>
Incorporating Into An Existing CMake Project</h3>
<p>If you want to use GoogleTest in a project which already uses CMake, the easiest way is to get installed libraries and headers.</p>
<ul>
<li>Import GoogleTest by using <span class="tt">find_package</span> (or <span class="tt">pkg_check_modules</span>). For example, if <span class="tt">find_package(GTest CONFIG REQUIRED)</span> succeeds, you can use the libraries as <span class="tt">GTest::gtest</span>, <span class="tt">GTest::gmock</span>.</li>
</ul>
<p>And a more robust and flexible approach is to build GoogleTest as part of that project directly. This is done by making the GoogleTest source code available to the main build and adding it using CMake's <span class="tt">add_subdirectory()</span> command. This has the significant advantage that the same compiler and linker settings are used between GoogleTest and the rest of your project, so issues associated with using incompatible libraries (eg debug/release), etc. are avoided. This is particularly useful on Windows. Making GoogleTest's source code available to the main build can be done a few different ways:</p>
<ul>
<li>Download the GoogleTest source code manually and place it at a known location. This is the least flexible approach and can make it more difficult to use with continuous integration systems, etc.</li>
<li>Embed the GoogleTest source code as a direct copy in the main project's source tree. This is often the simplest approach, but is also the hardest to keep up to date. Some organizations may not permit this method.</li>
<li>Add GoogleTest as a git submodule or equivalent. This may not always be possible or appropriate. Git submodules, for example, have their own set of advantages and drawbacks.</li>
<li>Use CMake to download GoogleTest as part of the build's configure step. This approach doesn't have the limitations of the other methods.</li>
</ul>
<p>The last of the above methods is implemented with a small piece of CMake code that downloads and pulls the GoogleTest code into the main build.</p>
<p>Just add to your <span class="tt">CMakeLists.txt</span>:</p>
<div class="fragment"><div class="line">include(FetchContent)</div>
<div class="line">FetchContent_Declare(</div>
<div class="line">  googletest</div>
<div class="line">  # Specify the commit you depend on and update it regularly.</div>
<div class="line">  URL https://github.com/google/googletest/archive/5376968f6948923e2411081fd9372e71a59d8e77.zip</div>
<div class="line">)</div>
<div class="line"># For Windows: Prevent overriding the parent project&#39;s compiler/linker settings</div>
<div class="line">set(gtest_force_shared_crt ON CACHE BOOL &quot;&quot; FORCE)</div>
<div class="line">FetchContent_MakeAvailable(googletest)</div>
<div class="line"> </div>
<div class="line"># Now simply link against gtest or gtest_main as needed. Eg</div>
<div class="line">add_executable(example example.cpp)</div>
<div class="line">target_link_libraries(example gtest_main)</div>
<div class="line">add_test(NAME example_test COMMAND example)</div>
</div><!-- fragment --><p>Note that this approach requires CMake 3.14 or later due to its use of the <span class="tt">FetchContent_MakeAvailable()</span> command.</p>
<h4 class="doxsection"><a class="anchor" id="autotoc_md831"></a>
Visual Studio Dynamic vs Static Runtimes</h4>
<p>By default, new Visual Studio projects link the C runtimes dynamically but GoogleTest links them statically. This will generate an error that looks something like the following: gtest.lib(gtest-all.obj) : error LNK2038: mismatch detected for 'RuntimeLibrary': value 'MTd_StaticDebug' doesn't match value 'MDd_DynamicDebug' in main.obj</p>
<p>GoogleTest already has a CMake option for this: <span class="tt">gtest_force_shared_crt</span></p>
<p>Enabling this option will make gtest link the runtimes dynamically too, and match the project in which it is included.</p>
<h3 class="doxsection"><a class="anchor" id="autotoc_md832"></a>
C++ Standard Version</h3>
<p>An environment that supports C++17 is required in order to successfully build GoogleTest. One way to ensure this is to specify the standard in the top-level project, for example by using the <span class="tt">set(CMAKE_CXX_STANDARD 17)</span> command along with <span class="tt">set(CMAKE_CXX_STANDARD_REQUIRED ON)</span>. If this is not feasible, for example in a C project using GoogleTest for validation, then it can be specified by adding it to the options for cmake via the<span class="tt">-DCMAKE_CXX_FLAGS</span> option.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md833"></a>
Tweaking GoogleTest</h2>
<p>GoogleTest can be used in diverse environments. The default configuration may not work (or may not work well) out of the box in some environments. However, you can easily tweak GoogleTest by defining control macros on the compiler command line. Generally, these macros are named like <span class="tt">GTEST_XYZ</span> and you define them to either 1 or 0 to enable or disable a certain feature.</p>
<p>We list the most frequently used macros below. For a complete list, see file <a href="https://github.com/google/googletest/blob/main/googletest/include/gtest/internal/gtest-port.h">include/gtest/internal/gtest-port.h</a>.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md834"></a>
Multi-threaded Tests</h2>
<p>GoogleTest is thread-safe where the pthread library is available. After <span class="tt">#include &lt;gtest/gtest.h&gt;</span>, you can check the <span class="tt">GTEST_IS_THREADSAFE</span> macro to see whether this is the case (yes if the macro is <span class="tt">#defined</span> to 1, no if it's undefined.).</p>
<p>If GoogleTest doesn't correctly detect whether pthread is available in your environment, you can force it with</p>
<div class="fragment"><div class="line">-DGTEST_HAS_PTHREAD=1</div>
</div><!-- fragment --><p>or</p>
<div class="fragment"><div class="line">-DGTEST_HAS_PTHREAD=0</div>
</div><!-- fragment --><p>When GoogleTest uses pthread, you may need to add flags to your compiler and/or linker to select the pthread library, or you'll get link errors. If you use the CMake script, this is taken care of for you. If you use your own build script, you'll need to read your compiler and linker's manual to figure out what flags to add.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md835"></a>
As a Shared Library (DLL)</h2>
<p>GoogleTest is compact, so most users can build and link it as a static library for the simplicity. You can choose to use GoogleTest as a shared library (known as a DLL on Windows) if you prefer.</p>
<p>To compile <em>gtest</em> as a shared library, add</p>
<div class="fragment"><div class="line">-DGTEST_CREATE_SHARED_LIBRARY=1</div>
</div><!-- fragment --><p>to the compiler flags. You'll also need to tell the linker to produce a shared library instead - consult your linker's manual for how to do it.</p>
<p>To compile your <em>tests</em> that use the gtest shared library, add</p>
<div class="fragment"><div class="line">-DGTEST_LINKED_AS_SHARED_LIBRARY=1</div>
</div><!-- fragment --><p>to the compiler flags.</p>
<p>Note: while the above steps aren't technically necessary today when using some compilers (e.g. GCC), they may become necessary in the future, if we decide to improve the speed of loading the library (see <a href="https://gcc.gnu.org/wiki/Visibility">https://gcc.gnu.org/wiki/Visibility</a> for details). Therefore you are recommended to always add the above flags when using GoogleTest as a shared library. Otherwise a future release of GoogleTest may break your build script.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md836"></a>
Avoiding Macro Name Clashes</h2>
<p>In C++, macros don't obey namespaces. Therefore two libraries that both define a macro of the same name will clash if you <span class="tt">#include</span> both definitions. In case a GoogleTest macro clashes with another library, you can force GoogleTest to rename its macro to avoid the conflict.</p>
<p>Specifically, if both GoogleTest and some other code define macro FOO, you can add</p>
<div class="fragment"><div class="line">-DGTEST_DONT_DEFINE_FOO=1</div>
</div><!-- fragment --><p>to the compiler flags to tell GoogleTest to change the macro's name from <span class="tt">FOO</span> to <span class="tt">GTEST_FOO</span>. Currently <span class="tt">FOO</span> can be <span class="tt">ASSERT_EQ</span>, <span class="tt">ASSERT_FALSE</span>, <span class="tt">ASSERT_GE</span>, <span class="tt">ASSERT_GT</span>, <span class="tt">ASSERT_LE</span>, <span class="tt">ASSERT_LT</span>, <span class="tt">ASSERT_NE</span>, <span class="tt">ASSERT_TRUE</span>, <span class="tt">EXPECT_FALSE</span>, <span class="tt">EXPECT_TRUE</span>, <span class="tt">FAIL</span>, <span class="tt">SUCCEED</span>, <span class="tt">TEST</span>, or <span class="tt">TEST_F</span>. For example, with <span class="tt">-DGTEST_DONT_DEFINE_TEST=1</span>, you'll need to write</p>
<div class="fragment"><div class="line">GTEST_TEST(SomeTest, DoesThis) { ... }</div>
</div><!-- fragment --><p>instead of</p>
<div class="fragment"><div class="line">TEST(SomeTest, DoesThis) { ... }</div>
</div><!-- fragment --><p>in order to define a test. </p>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Создано системой&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
</div>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">Globalizer</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Искать" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Навигация</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="_base_interval_8h_source.html">Исходный файл globalizer/method/include/BaseInterval.h</a></li>
<li class="toctree-l1"><a class="reference internal" href="_base_parameters_8h.html">Файл globalizer/parameters/include/BaseParameters.h</a></li>
<li class="toctree-l1"><a class="reference internal" href="class_solver.html">Класс Solver</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2025, TODO.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="../_sources/html/dir_53434f441aed30e397015a59db8fc0fd.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>